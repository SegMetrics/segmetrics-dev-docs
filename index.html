
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>
    <link href="images/favicon-3b625b57.png" rel="icon" type="image/png" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-66ae91f5.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-a6da9878.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-733a55c3.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#responses" class="toc-h2 toc-link" data-title="Responses">Responses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contacts" class="toc-h1 toc-link" data-title="Contacts">Contacts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-or-update-contact" class="toc-h2 toc-link" data-title="Add or Update Contact">Add or Update Contact</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tags" class="toc-h1 toc-link" data-title="Tags">Tags</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-tags-to-contact" class="toc-h2 toc-link" data-title="Add Tags to Contact">Add Tags to Contact</a>
                  </li>
                  <li>
                    <a href="#remove-tags-to-contact" class="toc-h2 toc-link" data-title="Remove Tags to Contact">Remove Tags to Contact</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#orders" class="toc-h1 toc-link" data-title="Orders">Orders</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-purchase-to-contact" class="toc-h2 toc-link" data-title="Add Purchase to Contact">Add Purchase to Contact</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ads" class="toc-h1 toc-link" data-title="Ads">Ads</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#record-ad-performance" class="toc-h2 toc-link" data-title="Record Ad Performance">Record Ad Performance</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://segmetrics.io'>Get Started at SegMetrics.io</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting started</h1><h2 id='overview'>Overview</h2>
<p>Welcome to the SegMetrics API!</p>

<p>The SegMetrics API v1 is a way to enable customer to import their own data into their SegMetrics account, either through a custom integration,
or to modify existing information in their integrations.</p>

<p>Calls for the SegMetrics API v1 are relative to the url:
<code>https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id/</code></p>

<p>API v1 is in active development.</p>
<h2 id='authentication'>Authentication</h2>
<p>The SegMetrics API uses two pieces of information to authorize your account.</p>

<blockquote>
<p>Authorization</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id/&lt;endpoint&gt;"</span> <span class="se">\ </span> 
  -H <span class="s1">'Authorization: YOUR_API_KEY'</span>
  -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<ul>
<li>Your <code>Account ID</code> is appended to the URL of each request that you&#39;ll make to the API</li>
<li>Your <code>API Key</code> is sent as an authorization header on each request.</li>
</ul>

<p>You can find your <code>Account Id</code> and <code>API Key</code> in the <a href="https://app.segmetrics.io/a/account/edit">SegMetrics Account page</a>.</p>
<h2 id='responses'>Responses</h2>
<blockquote>
<p>Successful Call</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an API call succeeds, the API will return a 200 HTTP response and a JSON response body unless otherwise noted.</p>

<p>If there&#39;s an error, the API will return an HTTP response in the 400 or 500 range and a response body indicating what caused the error.</p>
<h3 id='bad-data'>Bad data</h3>
<p>When you create or update a field, you may receive an HTTP 400 if any fields contain bad data or required fields are missing.</p>

<blockquote>
<p>Missing Data</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"missing 'id' field "</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='internal-server-errors'>Internal server errors</h3>
<p>If the server is overloaded or you encounter a bug, you will get a 500 error. 
Try again after a short period, and if you continue to encounter an error, please raise the issue with support.</p>
<h1 id='contacts'>Contacts</h1><h2 id='add-or-update-contact'>Add or Update Contact</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/contact
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span>
     -H <span class="s1">'Content-Type: application/json'</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "first_name": "Joey",
           "last_name": "Bloggs",
           "email": "joey@bloggs.com",
           "status": '</span>active<span class="s1">',
           "date_created": "2018-10-02 16:15:00",
           "last_updated": "2018-11-28 09:28:42",
           "utm_source": "facebook",
           "utm_content": "holiday special",
           "utm_medium": "facebook",
           "utm_campaign": "holiday",
           "utm_term": "awesomeness",
           "referring_url": "reallycoolurl.com",
           "optin_url": "evencoolerurl.com",
           "ip_address": "8.8.8.8",
           "affiliate_id": "123",
           "geo_lat": "45.523064",
           "geo_lon": "-122.676483",
           "tags": [
             {
               "id": 3,
               "name": "New Lead",
               "date": "2018-10-02 16:15:00"
             },
             {
               "id": 45,
               "name": "2018 Holiday Special",
               "date": "2018-11-28 09:25:33"
             },
             {
               "id": 8,
               "name": "Platinum Customer",
               "date": "2018-11-28 09:28:42"
             }
           ],
           "custom_fields": {
                "shirt_size": "Medium",
                "Awesome Sauce": "Applesauce2"
           }
         }'</span>
</code></pre>
<p>Adds a contact to the specified SegMetrics integration.</p>

<aside class="notice">
If the `contact_id` already exists, the existing contact will be updated.
</aside>
<h3 id='endpoint'>Endpoint</h3>
<p><strong>POST</strong> <code>/v3/&lt;account_id&gt;/&lt;integration_id&gt;/contact</code></p>
<h3 id='path-parameters'>Path parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_id</code></td>
<td>Account API id available from your Account Settings Page</td>
</tr>
<tr>
<td><code>integration_id</code></td>
<td>This is the ID of the integration from your Account Settings Page</td>
</tr>
</tbody></table>
<h3 id='request-body-schema'>Request Body Schema</h3>
<p><code>application/json</code></p>
<h3 id='required-parameters'>Required parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>contact_id</code></td>
<td>Contact Id (Required if no contact email)</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Contact Email Address (Required if no contact_id)</td>
</tr>
</tbody></table>

<aside class="notice">
When looking for a contact to update, the API gives priority to the contact_id over email.<br/>
When passing a contact_id, if the email address already exists, that contact_id will be updated with the new id. 
</aside>
<h3 id='optional-parameters'>Optional parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>date_created</code></td>
<td>Date Created</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td>Contact First Name</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td>Contact Last Name</td>
</tr>
<tr>
<td><code>status</code></td>
<td>Optin status of the contact. <code>active</code> or <code>inactive</code> (defaults to <code>active</code>)</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>List of TagIds or Array of Tag Objects</td>
</tr>
<tr>
<td><code>custom_fields</code></td>
<td>Object containing custom field data. E.g. <code>{ &quot;shirt_size&quot;: &quot;Medium&quot; }</code>.</td>
</tr>
<tr>
<td><code>last_updated</code></td>
<td>Date Last Updated</td>
</tr>
<tr>
<td><code>utm_campaign</code></td>
<td>UTM Campaign</td>
</tr>
<tr>
<td><code>utm_content</code></td>
<td>UTM Content</td>
</tr>
<tr>
<td><code>utm_medium</code></td>
<td>UTM Medium</td>
</tr>
<tr>
<td><code>utm_source</code></td>
<td>UTM Source</td>
</tr>
<tr>
<td><code>utm_term</code></td>
<td>UTM Term</td>
</tr>
<tr>
<td><code>referring_url</code></td>
<td>Referring URL</td>
</tr>
<tr>
<td><code>optin_url</code></td>
<td>Optin URL</td>
</tr>
<tr>
<td><code>ip_address</code></td>
<td>IP Address</td>
</tr>
<tr>
<td><code>affiliate_id</code></td>
<td>Affiliate ID</td>
</tr>
<tr>
<td><code>geo_lat</code></td>
<td>Geographic Latitude</td>
</tr>
<tr>
<td><code>geo_lon</code></td>
<td>Geographic Longitude</td>
</tr>
</tbody></table>

<aside class="notice">
When updating `custom_fields`, data will be **appended** to the existing data.<br/>
When updating `tags`, data will *replace* the existing data. Use `tags/add` to add tags to a contact. 
</aside>
<h1 id='tags'>Tags</h1><h2 id='add-tags-to-contact'>Add Tags to Contact</h2>
<blockquote>
<p>Example request (Tag Ids)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/add <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [ 3, 45, 8 ]
         }'</span>
</code></pre>
<blockquote>
<p>Example request (Tag Names)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/add <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [
               "New Lead",
               "2018 Holiday Special",
               "Platinum Customer"
           ]
         }'</span>
</code></pre>
<blockquote>
<p>Example request (Tag Objects)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/add <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [
             {
               "id": 3,
               "name": "New Lead",
               "date": "2018-10-02 16:15:00"
             },
             {
               "id": 45,
               "name": "2018 Holiday Special",
               "date": "2018-11-28 09:25:33"
             }
           ]
         }'</span>
</code></pre>
<p>Tags can be submitted in three different ways depending on how they&#39;re available in your application. Examples are shown to the right.</p>
<h3 id='endpoint'>Endpoint</h3>
<p><strong>POST</strong> <code>/v3/&lt;account_id&gt;/&lt;integration_id&gt;/tags/add</code></p>
<h3 id='path-parameters'>Path parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_id</code></td>
<td>Account API id available from your Account Settings Page</td>
</tr>
<tr>
<td><code>integration_id</code></td>
<td>This is the ID of the integration from your Account Settings Page</td>
</tr>
</tbody></table>
<h3 id='request-body-schema'>Request Body Schema</h3>
<p><code>application/json</code></p>
<h3 id='required-parameters'>Required parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>contact_id</code></td>
<td>Contact Id (Required if no contact email)</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Contact Email Address (Required if no contact_id)</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>Array of Tags.</td>
</tr>
</tbody></table>
<h3 id='tag-format'>Tag Format</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Tag Id</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Tag Name</td>
</tr>
<tr>
<td><code>date</code></td>
<td>DateTime the Tag was applied (defaults to now)</td>
</tr>
</tbody></table>
<h2 id='remove-tags-to-contact'>Remove Tags to Contact</h2>
<blockquote>
<p>Example request (Tag Ids)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/remove <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [ 3, 45, 8 ]
         }'</span>
</code></pre>
<blockquote>
<p>Example request (Tag Names)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/remove <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [
               "New Lead",
               "2018 Holiday Special",
               "Platinum Customer"
           ]
         }'</span>
</code></pre>
<blockquote>
<p>Example request (Tag Objects)</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/tags/remove <span class="se">\</span>
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span> <span class="se">\</span>
     -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
     -d <span class="s1">'{
           "contact_id": 249,
           "tags": [
             {
               "id": 3,
               "name": "New Lead"
             },
             {
               "id": 45,
               "name": "2018 Holiday Special"
             }
           ]
         }'</span>
</code></pre>
<p>Tags can be submitted in three different ways depending on how they&#39;re available in your application. Examples are shown to the right.</p>
<h3 id='endpoint-2'>Endpoint</h3>
<p><strong>POST</strong> <code>/v3/&lt;account_id&gt;/&lt;integration_id&gt;/tags/remove</code></p>
<h3 id='path-parameters-2'>Path parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_id</code></td>
<td>Account API id available from your Account Settings Page</td>
</tr>
<tr>
<td><code>integration_id</code></td>
<td>This is the ID of the integration from your Account Settings Page</td>
</tr>
</tbody></table>
<h3 id='request-body-schema-2'>Request Body Schema</h3>
<p><code>application/json</code></p>
<h3 id='required-parameters-2'>Required parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>contact_id</code></td>
<td>Contact Id (Required if no contact email)</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Contact Email Address (Required if no contact_id)</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>Array of Tags.</td>
</tr>
</tbody></table>
<h3 id='tag-format-2'>Tag Format</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Tag Id</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Tag Name</td>
</tr>
</tbody></table>
<h1 id='orders'>Orders</h1><h2 id='add-purchase-to-contact'>Add Purchase to Contact</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/invoice
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span>
     -H <span class="s1">'Content-Type: application/json'</span>
     -d <span class="s1">'{
           "contact_id": 4,
           "id": 234115,
           "amount": 4500,
           "paid": 4500,
           "is_refunded": 0,
           "date_created": "2018-10-03 11:14:32",
           "items": [
             {
               "name": "Round Tuit",
               "product_id": 1556402307145,
               "amount": 4000,
               "total_paid": 4000
             },
             {
               "name": "Uber Trinket",
               "product_id": 82638,
               "amount": 500,
               "total_paid": 500
             }
           ]
         }'</span>
</code></pre>
<p>Adds a purchase to the specified SegMetrics integration.</p>

<aside class="notice">
If the `id` already exists, the existing invoice will be updated.
</aside>
<h3 id='endpoint'>Endpoint</h3>
<p><strong>POST</strong> <code>/v3/&lt;account_id&gt;/&lt;integration_id&gt;/contact</code></p>
<h3 id='path-parameters'>Path parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_id</code></td>
<td>Account API id available from your Account Settings Page</td>
</tr>
<tr>
<td><code>integration_id</code></td>
<td>This is the ID of the integration from your Account Settings Page</td>
</tr>
</tbody></table>
<h3 id='request-body-schema'>Request Body Schema</h3>
<p><code>application/json</code></p>
<h3 id='required-parameters'>Required parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Invoice Id</td>
</tr>
<tr>
<td><code>contact_id</code></td>
<td>Contact Id (Required if no contact email)</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Contact&#39;s Email (Required if no contact id)</td>
</tr>
<tr>
<td><code>amount</code></td>
<td>Invoice Total in Cents</td>
</tr>
<tr>
<td><code>paid</code></td>
<td>Invoice Amount Paid in Cents</td>
</tr>
<tr>
<td><code>date_created</code></td>
<td>Invoice Date</td>
</tr>
<tr>
<td><code>items</code></td>
<td>Array of Invoice Items</td>
</tr>
</tbody></table>
<h3 id='optional-parameters'>Optional parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>is_refunded</code></td>
<td>Invoice Refunded Flag</td>
</tr>
</tbody></table>
<h3 id='item-parameters'>Item Parameters</h3>
<p>For each invoice, include the line items of which products were included.
If the product does not exist in SegMetrics, one will be created.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>Product Name</td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>Product Id</td>
</tr>
<tr>
<td><code>amount</code></td>
<td>Product Price in Cents</td>
</tr>
</tbody></table>
<h1 id='ads'>Ads</h1><h2 id='record-ad-performance'>Record Ad Performance</h2>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST https://import.segmetrics.io/api/v1/&lt;account_id&gt;/&lt;integration_id&gt;/ad/performance
     -H <span class="s1">'Authorization: YOUR_API_KEY'</span>
     -H <span class="s1">'Content-Type: application/json'</span>
     -d <span class="s1">'{
           "ad": 5489788855,
           "adcampaign": {             
              "id": 123456789,
              "name": "My Amazing Ad Campaign",
           },
           "adset": {             
              "id": 5678910,
              "name": "My Amazing Ad Set",
              "adcampaign": 123456789,
           },           
           "spend": 4500,
           "clicks": 7844,
           "impressions": 15487,
           "date": "2018-10-03",           
         }'</span>
</code></pre>
<p>Adds the add performance for a specific day to SegMetrics.</p>

<p>The AdPerformance endpoint allows passing the Ad Set and Ad Campaign values
in addition to the performance to allow users to skip campaign creation API calls
in order to simplify performance. </p>

<aside class="notice">
If the `ad` and `date_created` already exists, the existing ad performance will be updated.
</aside>
<h3 id='endpoint'>Endpoint</h3>
<p><strong>POST</strong> <code>/v3/&lt;account_id&gt;/&lt;integration_id&gt;/ad/performance</code></p>
<h3 id='path-parameters'>Path parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_id</code></td>
<td>Account API id available from your Account Settings Page</td>
</tr>
<tr>
<td><code>integration_id</code></td>
<td>This is the ID of the integration from your Account Settings Page</td>
</tr>
</tbody></table>
<h3 id='request-body-schema'>Request Body Schema</h3>
<p><code>application/json</code></p>
<h3 id='required-parameters'>Required parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ad</code></td>
<td>The Id of the Ad. Alternately, an <code>ad</code> object may be passed (see below)</td>
</tr>
<tr>
<td><code>spend</code></td>
<td>Amount spent on the ad for this day in Cents</td>
</tr>
<tr>
<td><code>date</code></td>
<td>Date that the clicks, spend and impressions apply to</td>
</tr>
</tbody></table>
<h3 id='optional-parameters'>Optional parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>adcampaign</code></td>
<td>The <code>adcampaign</code> object that the ad belongs to (see below)</td>
</tr>
<tr>
<td><code>adset</code></td>
<td>The <code>adset</code> object that the ad belongs to (see below)</td>
</tr>
<tr>
<td><code>clicks</code></td>
<td>Number of clicks on the ad for this day</td>
</tr>
<tr>
<td><code>impressions</code></td>
<td>Number of impressions on the ad for this day</td>
</tr>
</tbody></table>
<h3 id='ad-object-required-parameters'>Ad Object Required Parameters</h3>
<p><code>ad</code> may be passed as either an existing ID or an object.
 If an object is passed, then the <code>ad</code> will be created in SegMetrics, similar to if the <strong>Create Ad</strong> 
 endpoint was being called, with the following values:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Id of the Ad</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Name of the Ad</td>
</tr>
<tr>
<td><code>adcampaign</code></td>
<td>Ad Campaign Id of the Ad</td>
</tr>
<tr>
<td><code>adset</code></td>
<td>Ad Set Id of the Ad</td>
</tr>
</tbody></table>
<h3 id='adset-object-required-parameters'>AdSet Object Required Parameters</h3>
<p><code>adset</code> may be passed as either an existing ID or an object.
 If an object is passed, then the <code>AdSet</code> will be created in SegMetrics, similar to if the <strong>Create AdSet</strong> 
 endpoint was being called, with the following values:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Id of the AdSet</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Name of the AdSet</td>
</tr>
<tr>
<td><code>adcampaign</code></td>
<td>Ad Campaign Id of the AdSet</td>
</tr>
</tbody></table>
<h3 id='adcampaign-object-required-parameters'>AdCampaign Object Required Parameters</h3>
<p><code>adcampaign</code> may be passed as either an existing ID or an object.
 If an object is passed, then the <code>Campaign</code> will be created in SegMetrics, similar to if the <strong>Create AdCampaign</strong> 
 endpoint was being called, with the following values:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>Id of the Ad Campaign</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Name of the Ad Campaign</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
          </div>
      </div>
    </div>
  </body>
</html>
